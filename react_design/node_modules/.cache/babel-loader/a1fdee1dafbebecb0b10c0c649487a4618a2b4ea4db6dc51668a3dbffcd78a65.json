{"ast":null,"code":"var _jsxFileName = \"/Users/junha/workspace/3\\uD559\\uB144 \\uACFC\\uBAA9/\\uC18C\\uD504\\uD2B8\\uC6E8\\uC5B4 \\uACF5\\uD559/Ui_design/react_design/src/components/StreamPanel.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { useROS } from '../contexts/ROSContext';\nimport './StreamPanel.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst StreamPanel = () => {\n  _s();\n  const [recognitionPerson, setRecognitionPerson] = useState('담당자명: ');\n  const [recognitionCar, setRecognitionCar] = useState('차량모델: ');\n  const [recognitionTime, setRecognitionTime] = useState('2024-03-03 10:30:25');\n  const imageRef = useRef(null);\n  const {\n    createTopic,\n    connectionStatus\n  } = useROS();\n  useEffect(() => {\n    if (connectionStatus !== 'connected') return;\n    const cameraTopic = createTopic('/camera/image_raw/compressed', 'sensor_msgs/CompressedImage');\n    if (cameraTopic) {\n      cameraTopic.subscribe(message => {\n        if (imageRef.current) {\n          const imageData = `data:image/jpeg;base64,${message.data}`;\n          imageRef.current.src = imageData;\n        }\n      });\n      return () => {\n        cameraTopic.unsubscribe();\n      };\n    }\n  }, [connectionStatus, createTopic]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"stream-panel\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"recognition-info\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"info-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"label\",\n          children: \"\\uB2F4\\uB2F9\\uC790\\uBA85:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"value\",\n          children: recognitionPerson\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"info-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"label\",\n          children: \"\\uCC28\\uB7C9\\uBAA8\\uB378:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"value\",\n          children: recognitionCar\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"info-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"label\",\n          children: \"\\uC778\\uC2DD\\uC2DC\\uAC04:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"value\",\n          children: recognitionTime\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"stream-image\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        ref: imageRef,\n        alt: \"Stream\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 5\n  }, this);\n};\n_s(StreamPanel, \"7KfAWxfk4TwAVVX6SxVf56aqRAs=\", false, function () {\n  return [useROS];\n});\n_c = StreamPanel;\nexport default StreamPanel;\nvar _c;\n$RefreshReg$(_c, \"StreamPanel\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useROS","jsxDEV","_jsxDEV","StreamPanel","_s","recognitionPerson","setRecognitionPerson","recognitionCar","setRecognitionCar","recognitionTime","setRecognitionTime","imageRef","createTopic","connectionStatus","cameraTopic","subscribe","message","current","imageData","data","src","unsubscribe","className","children","fileName","_jsxFileName","lineNumber","columnNumber","ref","alt","_c","$RefreshReg$"],"sources":["/Users/junha/workspace/3학년 과목/소프트웨어 공학/Ui_design/react_design/src/components/StreamPanel.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { useROS } from '../contexts/ROSContext';\nimport './StreamPanel.css';\n\nconst StreamPanel = () => {\n  const [recognitionPerson, setRecognitionPerson] = useState('담당자명: ');\n  const [recognitionCar, setRecognitionCar] = useState('차량모델: ');\n  const [recognitionTime, setRecognitionTime] = useState('2024-03-03 10:30:25');\n  const imageRef = useRef(null);\n  const { createTopic, connectionStatus } = useROS();\n\n  useEffect(() => {\n    if (connectionStatus !== 'connected') return;\n\n    const cameraTopic = createTopic('/camera/image_raw/compressed', 'sensor_msgs/CompressedImage');\n    \n    if (cameraTopic) {\n      cameraTopic.subscribe((message) => {\n        if (imageRef.current) {\n          const imageData = `data:image/jpeg;base64,${message.data}`;\n          imageRef.current.src = imageData;\n        }\n      });\n\n      return () => {\n        cameraTopic.unsubscribe();\n      };\n    }\n  }, [connectionStatus, createTopic]);\n\n  return (\n    <div className=\"stream-panel\">\n      <div className=\"recognition-info\">\n        <div className=\"info-item\">\n          <span className=\"label\">담당자명:</span>\n          <span className=\"value\">{recognitionPerson}</span>\n        </div>\n        <div className=\"info-item\">\n          <span className=\"label\">차량모델:</span>\n          <span className=\"value\">{recognitionCar}</span>\n        </div>\n        <div className=\"info-item\">\n          <span className=\"label\">인식시간:</span>\n          <span className=\"value\">{recognitionTime}</span>\n        </div>\n      </div>\n      <div className=\"stream-image\">\n        <img ref={imageRef} alt=\"Stream\" />\n      </div>\n    </div>\n  );\n};\n\nexport default StreamPanel;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}